{% comment %}
Settings menu component - include this in all settings pages
Usage: {% include "core/_settings_menu.html" with active_page="general" %}
{% endcomment %}

<div class="card">
    <div class="card-header">
        <h5 class="mb-0"><i class="fas fa-cog"></i> Settings</h5>
    </div>
    <div class="list-group list-group-flush">
        <a href="{% url 'core:settings_general' %}" class="list-group-item list-group-item-action {% if active_page == 'general' %}active{% endif %}">
            <i class="fas fa-sliders-h"></i> General
        </a>
        <a href="{% url 'core:settings_features' %}" class="list-group-item list-group-item-action {% if active_page == 'features' %}active{% endif %}">
            <i class="fas fa-toggle-on"></i> Feature Toggles
        </a>
        <a href="{% url 'core:settings_smtp' %}" class="list-group-item list-group-item-action {% if active_page == 'smtp' %}active{% endif %}">
            <i class="fas fa-envelope"></i> SMTP/Email
        </a>
        <a href="{% url 'core:settings_scheduler' %}" class="list-group-item list-group-item-action {% if active_page == 'scheduler' %}active{% endif %}">
            <i class="fas fa-clock"></i> Task Scheduler
        </a>

        <div class="list-group-item bg-light py-1">
            <small class="text-muted fw-bold">SECURITY</small>
        </div>
        <a href="{% url 'core:settings_security' %}" class="list-group-item list-group-item-action {% if active_page == 'security' %}active{% endif %}">
            <i class="fas fa-shield-alt"></i> Security Settings
        </a>
        <a href="{% url 'core:firewall_settings' %}" class="list-group-item list-group-item-action {% if active_page == 'firewall' %}active{% endif %}">
            <i class="fas fa-shield-halved"></i> Firewall & GeoIP
        </a>
        <a href="{% url 'core:fail2ban_status' %}" class="list-group-item list-group-item-action {% if active_page == 'fail2ban' %}active{% endif %}">
            <i class="fas fa-ban"></i> Fail2ban
        </a>
        <a href="{% url 'core:settings_snyk' %}" class="list-group-item list-group-item-action {% if active_page == 'snyk' %}active{% endif %}">
            <i class="fas fa-bug"></i> Vulnerability Scans
        </a>

        <div class="list-group-item bg-light py-1">
            <small class="text-muted fw-bold">INTEGRATIONS</small>
        </div>
        <a href="{% url 'core:settings_directory' %}" class="list-group-item list-group-item-action {% if active_page == 'directory' %}active{% endif %}">
            <i class="fas fa-users-cog"></i> Directory Services
        </a>
        <a href="{% url 'core:settings_ai' %}" class="list-group-item list-group-item-action {% if active_page == 'ai' %}active{% endif %}">
            <i class="fas fa-robot"></i> AI & LLM
        </a>

        <div class="list-group-item bg-light py-1">
            <small class="text-muted fw-bold">SYSTEM</small>
        </div>
        <a href="{% url 'core:system_status' %}" class="list-group-item list-group-item-action {% if active_page == 'system_status' %}active{% endif %}">
            <i class="fas fa-heartbeat"></i> System Status
        </a>
        <a href="{% url 'core:settings_kb_import' %}" class="list-group-item list-group-item-action {% if active_page == 'kb_import' %}active{% endif %}">
            <i class="fas fa-database"></i> Demo Data
        </a>
        <a href="{% url 'core:settings_data_export' %}" class="list-group-item list-group-item-action {% if active_page == 'data_export' %}active{% endif %}">
            <i class="fas fa-file-export"></i> Data Export
        </a>
        <a href="{% url 'core:maintenance' %}" class="list-group-item list-group-item-action {% if active_page == 'maintenance' %}active{% endif %}">
            <i class="fas fa-tools"></i> Maintenance
        </a>
    </div>
</div>
